import{j as e,a as b,u as t}from"./index-YmJ5rGxO.js";import{r as o}from"./vendor-redux-FsoCpCcR.js";import{B as s}from"./button-BZ__ZVvs.js";import{I as y}from"./input-lKSy0GOu.js";import{L as N}from"./label-C0QsUGTD.js";import{C as c,a as d,b as h,c as u,d as x}from"./card-C1Os2Jzs.js";import{L as l}from"./vendor-react-BGYP6dvN.js";import{p as v}from"./formUtils-CjVQbo5F.js";import{A as p}from"./arrow-left-BKxa5Psn.js";import{L}from"./loader-2-Z6OQyPns.js";import"./utils-Ckn0VQvi.js";import"./vendor-recharts-Bkxxru1U.js";import"./createLucideIcon-BRnZLpr8.js";function q(){const[i,n]=o.useState(!1),[f,j]=o.useState(!1),[m,w]=o.useState(""),g=async a=>{a.preventDefault(),n(!0);try{(await b.post("/auth/forgot-password",{email:m})).data.success?(j(!0),t.success("OTP sent to your email!")):t.error("Failed to send OTP")}catch(r){console.error("Forgot password error:",r),t.error(r.response?.data?.message||"Failed to send OTP")}finally{n(!1)}};return f?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4",children:e.jsxs(c,{className:"w-full max-w-md shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(d,{className:"space-y-1 text-center",children:[e.jsx(h,{className:"text-2xl font-bold",children:"Check Your Email"}),e.jsx(u,{children:"We've sent a 6-digit OTP to your email address. Please check your inbox."})]}),e.jsxs(x,{children:[e.jsx(l,{to:"/reset-password",children:e.jsx(s,{className:"w-full",children:"Continue to Reset Password"})}),e.jsx(l,{to:"/login",children:e.jsxs(s,{variant:"ghost",className:"w-full mt-2",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4",children:e.jsxs(c,{className:"w-full max-w-md shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(d,{className:"space-y-1 text-center",children:[e.jsx(h,{className:"text-2xl font-bold",children:"Forgot Password"}),e.jsx(u,{children:"Enter your email address and we'll send you an OTP to reset your password."})]}),e.jsx(x,{children:e.jsxs("form",{onSubmit:g,onKeyDown:v,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(N,{htmlFor:"email",children:"Email"}),e.jsx(y,{id:"email",type:"email",placeholder:"you@example.com",value:m,onChange:a=>w(a.target.value),required:!0,className:"h-11"})]}),e.jsx(s,{type:"submit",className:"w-full h-11 text-base",disabled:i,children:i?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):"Send OTP"}),e.jsx(l,{to:"/login",children:e.jsxs(s,{type:"button",variant:"ghost",className:"w-full",children:[e.jsx(p,{className:"mr-2 h-4 w-4"}),"Back to Login"]})})]})})]})})}export{q as default};
