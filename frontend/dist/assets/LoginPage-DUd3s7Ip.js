import{j as e,c as g,l as j,u as d}from"./index-YmJ5rGxO.js";import{u as w,e as N,r as p}from"./vendor-redux-FsoCpCcR.js";import{B as b}from"./button-BZ__ZVvs.js";import{I as u}from"./input-lKSy0GOu.js";import{L as h}from"./label-C0QsUGTD.js";import{C as y,a as v,b as C,c as S,d as L}from"./card-C1Os2Jzs.js";import{p as D}from"./formUtils-CjVQbo5F.js";import{u as E}from"./vendor-react-BGYP6dvN.js";import{L as F}from"./loader-2-Z6OQyPns.js";import"./utils-Ckn0VQvi.js";import"./vendor-recharts-Bkxxru1U.js";import"./createLucideIcon-BRnZLpr8.js";function T(){const t=E(),n=w(),{loading:l,error:i,isAuthenticated:m,user:o}=N(s=>s.auth);p.useEffect(()=>{m&&o&&t(o.role==="SUPER_ADMIN"?"/super-admin":"/admin",{replace:!0})},[m,o,t]);const[a,x]=p.useState({email:"",password:""}),c=s=>{x({...a,[s.target.name]:s.target.value}),i&&n(g())},f=async s=>{s.preventDefault();try{console.log("Attempting login with:",{email:a.email});const r=await n(j(a)).unwrap();console.log("Login successful:",r),d.success("Login successful!"),r.user.role==="SUPER_ADMIN"?t("/super-admin"):t("/admin")}catch(r){console.error("Login error:",r),d.error(r||"Login failed")}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-white to-slate-50 p-4",children:e.jsxs(y,{className:"w-full max-w-md shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(v,{className:"space-y-1 text-center",children:[e.jsx(C,{className:"text-3xl font-bold text-primary tracking-tight",children:"Vashq"}),e.jsx(S,{className:"text-base",children:"Sign in to your account"})]}),e.jsx(L,{children:e.jsxs("form",{onSubmit:f,onKeyDown:D,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",name:"email",type:"email",placeholder:"you@example.com",value:a.email,onChange:c,required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(h,{htmlFor:"password",children:"Password"}),e.jsx(u,{id:"password",name:"password",type:"password",placeholder:"••••••••",value:a.password,onChange:c,required:!0,className:"h-11"})]}),e.jsx("div",{className:"flex items-center justify-end",children:e.jsx("a",{href:"/forgot-password",className:"text-sm text-primary hover:underline",children:"Forgot password?"})}),i&&e.jsx("p",{className:"text-sm text-red-500",children:i}),e.jsx(b,{type:"submit",className:"w-full h-11 text-base",disabled:l,children:l?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing in..."]}):"Sign in"})]})})]})})}export{T as default};
