import{a as u,u as n,j as e}from"./index-YmJ5rGxO.js";import{r as i}from"./vendor-redux-FsoCpCcR.js";import{C as h,a as p,d as m,b,c as F}from"./card-C1Os2Jzs.js";import{B as P}from"./button-BZ__ZVvs.js";import{I as c}from"./input-lKSy0GOu.js";import{L as l}from"./label-C0QsUGTD.js";import{S as g,a as x,b as f,c as j,d as t}from"./select-CkWAxkRE.js";import"./vendor-react-BGYP6dvN.js";import"./utils-Ckn0VQvi.js";import"./vendor-recharts-Bkxxru1U.js";const v={platformName:"Vashq",supportEmail:"",supportPhone:"",defaultCurrency:"USD",defaultLanguage:"en"};function k(){const[a,r]=i.useState(v),[d,o]=i.useState(!1),[S,C]=i.useState(!0);i.useEffect(()=>{y()},[]);const y=async()=>{try{const s=await u.get("/super-admin/settings");s.data.success&&s.data.settings&&r({...v,...s.data.settings})}catch(s){console.error("Failed to fetch settings:",s),n.error(s.response?.data?.message||"Failed to load settings")}finally{C(!1)}},N=async()=>{o(!0);try{const s=await u.put("/super-admin/settings",a);s.data.success?(n.success("Settings saved successfully"),s.data.settings&&r(E=>({...E,...s.data.settings}))):n.error("Failed to save settings")}catch(s){n.error(s.response?.data?.message||"Failed to save settings")}finally{o(!1)}};return S?e.jsx("div",{className:"space-y-4",children:e.jsxs(h,{className:"animate-pulse",children:[e.jsx(p,{className:"h-20 bg-muted rounded-lg"}),e.jsx(m,{className:"h-64 bg-muted/60 rounded-lg mt-2"})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight text-slate-800",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-0.5",children:"Manage platform settings and preferences"})]}),e.jsxs(h,{children:[e.jsxs(p,{children:[e.jsx(b,{children:"Platform Settings"}),e.jsx(F,{children:"Configure general platform settings. These apply across the platform."})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"platformName",children:"Platform Name"}),e.jsx(c,{id:"platformName",value:a.platformName,onChange:s=>r({...a,platformName:s.target.value}),placeholder:"Vashq"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"supportEmail",children:"Support Email"}),e.jsx(c,{id:"supportEmail",type:"email",value:a.supportEmail,onChange:s=>r({...a,supportEmail:s.target.value}),placeholder:"support@example.com"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"supportPhone",children:"Support Phone"}),e.jsx(c,{id:"supportPhone",value:a.supportPhone,onChange:s=>r({...a,supportPhone:s.target.value}),placeholder:"+1234567890"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"defaultCurrency",children:"Default Currency"}),e.jsxs(g,{value:a.defaultCurrency||"USD",onValueChange:s=>r({...a,defaultCurrency:s}),children:[e.jsx(x,{id:"defaultCurrency",children:e.jsx(f,{placeholder:"Select currency"})}),e.jsxs(j,{children:[e.jsx(t,{value:"USD",children:"USD ($)"}),e.jsx(t,{value:"EUR",children:"EUR (€)"}),e.jsx(t,{value:"GBP",children:"GBP (£)"}),e.jsx(t,{value:"INR",children:"INR (₹)"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Applies to the entire platform. Car wash admins cannot change this."})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"defaultLanguage",children:"Default Language"}),e.jsxs(g,{value:a.defaultLanguage,onValueChange:s=>r({...a,defaultLanguage:s}),children:[e.jsx(x,{children:e.jsx(f,{placeholder:"Select language"})}),e.jsxs(j,{children:[e.jsx(t,{value:"en",children:"English"}),e.jsx(t,{value:"es",children:"Spanish"}),e.jsx(t,{value:"ar",children:"Arabic"}),e.jsx(t,{value:"fr",children:"French"})]})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-border",children:e.jsx(P,{onClick:N,disabled:d,className:"min-h-[44px]",children:d?"Saving...":"Save Settings"})})]})]})]})}export{k as default};
